<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright 2009 Kantega AS
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <context:annotation-config/>

    <bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping" id="urlMapping">

        <property name="alwaysUseFullPath">
            <value>true</value>
        </property>

        <property name="mappings">
            <props>
                <!-- Base controllers -->
                <prop key="/">ContentRequestHandler</prop>
                <prop key="/content.ap">ContentRequestHandler</prop>
                <prop key="*.asp">ContentRequestHandler</prop>
                <prop key="/attachment.ap">AttachmentRequestHandler</prop>
                <prop key="/attachments/*">AttachmentRequestHandler</prop>
                <prop key="/multimedia.ap">MultimediaRequestHandler</prop>
                <prop key="/multimedia/*">MultimediaRequestHandler</prop>
                <prop key="/rss.ap">RssRequestHandler</prop>
                <prop key="/Login.action">LoginAction</prop>
                <prop key="/Logout.action">LogoutAction</prop>
                <prop key="/sitemap.xml">CrawlerSiteMapController</prop>
                <prop key="/robots.txt">RobotsController</prop>

                <!-- Sites -->
                <prop key="/admin/sites/CreateRoot.action">createRootAction</prop>

                <!-- Security -->
                <prop key="/CreateInitialUser.action">CreateInitialUserAction</prop>
                <prop key="/admin/security/AddTopicRole.action">AddTopicRoleAction</prop>
                <prop key="/admin/security/AddUserRolePermission.action">AddUserRolePermissionAction</prop>
                <prop key="/admin/security/EditPermissions.action">EditPermissionsAction</prop>
                <prop key="/admin/security/RemovePermission.action">RemovePermissionAction</prop>
                <prop key="/admin/security/SavePermissions.action">SavePermissionsAction</prop>
                <prop key="/admin/security/SelectRoles.action">SelectRolesAction</prop>
                <prop key="/admin/security/SelectUsers.action">SelectUsersAction</prop>

                <!-- My page -->
                <prop key="/admin/mypage/ViewMyPage.action">ViewMyPageAction</prop>
                <prop key="/admin/mypage/RestoreDeletedItem.action">RestoreDeletedItemAction</prop>

                <!-- Publish navigator -->
                <prop key="/admin/publish/Navigate.action">contentNavigateAction</prop>
                <prop key="/admin/publish/ContentNavigator.action">contentNavigatorAjaxAction</prop>
                <prop key="/admin/publish/popups/SelectMediaFolder.action">SelectMediaFolderAction</prop>

                <!-- Organize subpages -->
                <prop key="/admin/publish/Organize.action">OrganizeSubPagesAction</prop>
                <prop key="/admin/publish/ListSubPages.action">ListSubPagesAction</prop>
                <prop key="/admin/publish/ReorderSubPages.action">ReorderSubPagesAction</prop>

                <!-- Publish -->
                <prop key="/admin/publish/AddContent.action">AddContentAction</prop>
                <prop key="/admin/publish/ApproveOrReject.action">ApproveOrRejectAction</prop>
                <prop key="/admin/publish/CancelEdit.action">CancelEditAction</prop>
                <prop key="/admin/publish/ConfirmCopyPaste.action">ConfirmCopyPasteContentAction</prop>
                <prop key="/admin/publish/CopyPasteContent.action">CopyPasteContentAction</prop>
                <prop key="/admin/publish/CleanupHTML.action">CleanupHTMLAction</prop>
                <prop key="/admin/publish/DeleteAttachment.action">DeleteAttachmentAction</prop>
                <prop key="/admin/publish/SaveHearing.action">SaveHearingAction</prop>
                <prop key="/admin/publish/DeleteAssociation.action">DeleteAssociationAction</prop>
                <prop key="/admin/publish/DeleteVersion.action">DeleteVersionAction</prop>
                <prop key="/admin/publish/EditContent.action">EditContentAction</prop>
                <prop key="/admin/EndAdminMode.action">EndAdminModeAction</prop>
                <prop key="/admin/publish/ViewContentPreview.action">ViewContentPreviewAction</prop>
                <prop key="/admin/publish/ViewContentPreviewFrame.action">ViewContentPreviewFrameAction</prop>
                <prop key="/admin/publish/SaveAttachments.action">SaveAttachmentsAction</prop>
                <prop key="/admin/publish/SaveContent.action">SaveContentAction</prop>
                <prop key="/admin/publish/SaveMetadata.action">SaveMetadataAction</prop>
                <prop key="/admin/publish/SaveNotes.action">SaveNotesAction</prop>
                <prop key="/admin/publish/SaveVersion.action">SaveVersionAction</prop>
                <prop key="/admin/publish/SelectTemplate.action">SelectTemplateAction</prop>
                <prop key="/admin/publish/SimpleDeleteContent.action">SimpleDeleteContentAction</prop>
                <prop key="/admin/publish/SimpleEditContent.action">SimpleEditContentAction</prop>
                <prop key="/admin/publish/SimpleEditCancel.action">SimpleEditCancelAction</prop>
                <prop key="/admin/publish/SimpleEditSaveContent.action">SimpleEditSaveContentAction</prop>
                <prop key="/aksess/hearing/SaveHearingComment.action">SaveHearingCommentAction</prop>
                <prop key="/admin/publish/UseVersion.action">UseVersionAction</prop>
                <prop key="/admin/publish/BreadCrumbs.action">breadCrumbsAction</prop>

                <!-- Popups for publishing -->
                <prop key="/admin/publish/popups/AddAttachment.action">AddAttachmentAction</prop>
                <prop key="/admin/publish/popups/InsertLink.action">InsertLinkAction</prop>
                <prop key="/admin/publish/popups/InsertTable.action">InsertTableAction</prop>
                <prop key="/admin/publish/popups/InsertCharacter.action">InsertCharacterAction</prop>
                <prop key="/admin/publish/popups/ReplaceText.action">ReplaceTextAction</prop>
                <prop key="/admin/publish/popups/SelectContent.action">SelectContentAction</prop>

                <!-- Multimedia naviagator -->
                <prop key="/admin/multimedia/Navigate.action">multimediaNavigateAction</prop>
                <prop key="/admin/multimedia/MultimediaNavigator.action">multimediaNavigatorAjaxAction</prop>
                <prop key="/admin/multimedia/ViewFolder.action">viewFolderAjaxAction</prop>

                <!-- Multimedia -->
                <prop key="/admin/multimedia/ConfirmCopyPaste.action">ConfirmCopyPasteMultimediaAction</prop>
                <prop key="/admin/multimedia/CopyPasteMultimedia.action">CopyPasteMultimediaAction</prop>
                <prop key="/admin/multimedia/CreateMediaFolder.action">CreateMediaFolderAction</prop>
                <prop key="/admin/multimedia/DeleteMultimedia.action">DeleteMultimediaAction</prop>
                <prop key="/admin/multimedia/ImageManipulation.action">ImageManipulationAction</prop>
                <prop key="/admin/multimedia/ImageMap.action">ImageMapAction</prop>
                <prop key="/admin/multimedia/EditMultimedia.action">EditMultimediaAction</prop>
                <prop key="/admin/multimedia/UploadMultimedia.action">UploadMultimediaAction</prop>
                <prop key="/admin/multimedia/UpdateMediaName.action">UpdateMediaNameAction</prop>

                <!-- Topic maps -->
                <prop key="/admin/topicmaps/DeleteRoleTopic.action">DeleteRoleTopicAction</prop>
                <prop key="/admin/topicmaps/DeleteTopic.action">DeleteTopicAction</prop>
                <prop key="/admin/topicmaps/HandleContentTopics.action">HandleContentTopicsAction</prop>
                <!--<prop key="/admin/publish/DeleteContentTopic.action">DeleteContentTopicAction</prop>-->                
                <prop key="/admin/topicmaps/UpdateTopic.action">UpdateTopicAction</prop>
                <prop key="/admin/topicmaps/SelectTopics.action">SelectTopicsAction</prop>


                <prop key="/admin/LogJSError.action">LogJSErrorAction</prop>

                <!-- Search for autocomplete -->
                <prop key="/ajax/SearchContentAsXML.action">SearchContentAsXMLAction</prop>
                <prop key="/ajax/SearchMultimediaAsXML.action">SearchMultimediaAsXMLAction</prop>
                <prop key="/ajax/SearchOrgUnitsAsXML.action">SearchOrgUnitsAsXMLAction</prop>
                <prop key="/ajax/SearchUsersAsXML.action">SearchUsersAsXMLAction</prop>

                <!-- List options -->
                <prop key="/admin/publish/EditListOption.action">EditListOptionAction</prop>
                <prop key="/admin/publish/AddListOption.action">AddListOptionAction</prop>
                <prop key="/admin/publish/RemoveListOption.action">RemoveListOptionAction</prop>

                <!-- Various -->
                <prop key="/admin/groovy.action">groovyConsole</prop>
            </props>
        </property>
    </bean>

    <bean class="no.kantega.publishing.security.interceptors.AdminRoleInterceptor" id="adminRoleInterceptor"/>

    <bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="alwaysUseFullPath">
            <value>true</value>
        </property>
        <property name="interceptors">
            <list>
                <ref bean="adminRoleInterceptor"/>
            </list>
        </property>
        <property name="mappings">
            <props>
                <!-- Administrator controllers -->
                <prop key="/admin/administration/ViewSystemInformation.action">ViewSystemInformationAction</prop>
                <prop key="/admin/administration/ListContentLocks.action">listContentLocksAction</prop>
                <prop key="/admin/administration/RemoveContentLock.action">removeContentLockAction</prop>
                <prop key="/admin/administration/ListAliases.action">listAliasesAction</prop>

                <prop key="/admin/administration/SearchEventLog.action">searchEventLogAction</prop>
                <prop key="/admin/administration/ViewMailSubscribers.action">viewMailSubscribersAction</prop>
                <prop key="/admin/administration/RebuildIndex.action">rebuildIndexAction</prop>
                <prop key="/admin/administration/ViewSearchLog.action">viewSearchLogAction</prop>
                <prop key="/admin/administration/ListContentExpiration.action">listContentExpirationAction</prop>
                <prop key="/admin/administration/ListUserChanges.action">listUserChangesAction</prop>
                <prop key="/admin/administration/topicmaps/DeleteTopicMap.action">deleteTopicMapAction</prop>
                <prop key="/admin/administration/topicmaps/EditTopicMap.action">editTopicMapAction</prop>
                <prop key="/admin/administration/topicmaps/ListTopicMaps.action">listTopicMapsAction</prop>
                <!-- Site config controllers -->
                <prop key="/admin/administration/ListSites.action">listSitesAction</prop>
                <prop key="/admin/administration/EditDomainNames.action">EditDomainNamesAction</prop>
                <!-- Display templateconfig controllers -->
                <prop key="/admin/administration/ListAssociationCategories.action">listAssociationCategoriesAction</prop>
                <prop key="/admin/administration/ListContentTemplates.action">listContentTemplatesAction</prop>
                <prop key="/admin/administration/ListDisplayTemplates.action">listDisplayTemplatesAction</prop>
                <prop key="/admin/administration/ListDisplayTemplateUsages.action">listDisplayTemplateUsagesAction</prop>
                <prop key="/admin/administration/ReloadTemplateConfiguration.action">reloadTemplateConfigurationAction</prop>
                <!-- Security -->
                <prop key="/admin/administration/ViewAllPermissions.action">ViewAllPermissionsAction</prop>
            </props>
        </property>
    </bean>


    <!-- Base controllers -->
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="ContentRequestHandler">
        <property name="servletClass">
            <value>no.kantega.publishing.client.ContentRequestHandler</value>
        </property>
        <property name="servletName">
            <value>ContentRequestHandler</value>
        </property>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="MultimediaRequestHandler">
        <property name="servletClass">
            <value>no.kantega.publishing.client.MultimediaRequestHandler</value>
        </property>
        <property name="servletName">
            <value>MultimediaRequestHandler</value>
        </property>
    </bean>
    <bean id="RssRequestHandler" class="no.kantega.publishing.client.RssRequestHandler">
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="AttachmentRequestHandler">
        <property name="servletClass">
            <value>no.kantega.publishing.client.AttachmentRequestHandler</value>
        </property>
        <property name="servletName">
            <value>AttachmentRequestHandler</value>
        </property>
    </bean>
    <bean class="no.kantega.publishing.security.action.LoginAction" id="LoginAction">
        <property name="loginView">
            <value>/WEB-INF/jsp/login/login.jsp</value>
        </property>
        <property name="userLoginRestrictor">
            <bean class="no.kantega.publishing.security.data.PauseLoginRestrictor">
                <property name="maxAttempts" value="5"/>
                <property name="timeoutInSeconds" value="900"/>
            </bean>
        </property>
        <property name="ipLoginRestrictor">
            <bean class="no.kantega.publishing.security.data.PauseLoginRestrictor">
                <property name="maxAttempts" value="50"/>
                <property name="timeoutInSeconds" value="3600"/>
            </bean>
        </property>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="LogoutAction">
        <property name="servletClass">
            <value>no.kantega.publishing.security.action.LogoutAction</value>
        </property>
        <property name="servletName">
            <value>LogoutAction</value>
        </property>
    </bean>
    <bean class="no.kantega.publishing.controls.sitemap.CrawlerSiteMapController" id="CrawlerSiteMapController"/>
    <bean class="no.kantega.publishing.controls.robots.RobotsController" id="RobotsController"/>

    <!-- Sites -->
    <bean class="no.kantega.publishing.admin.administration.action.CreateRootAction" id="createRootAction">
        <property name="siteCache" ref="aksessSiteCache"/>
    </bean>

    <!-- Security -->
    <bean class="no.kantega.publishing.admin.security.action.AddUserRolePermissionAction" id="AddUserRolePermissionAction">
        <property name="view" value="/WEB-INF/jsp/admin/generic/windowclose.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.security.action.AddTopicRoleAction" id="AddTopicRoleAction">
        <property name="view" value="/WEB-INF/jsp/admin/generic/windowclose.jsp"/>
    </bean>
    <bean class="no.kantega.useradmin.controls.CreateInitialUserController" id="CreateInitialUserAction">
        <property name="defaultDomain">
            <value>${security.defaultdomain}</value>
        </property>
        <property name="profileConfiguration" ref="profileConfigurations"/>
        <property name="roleConfiguration" ref="roleConfigurations"/>
    </bean>
    <bean class="no.kantega.publishing.admin.security.action.EditPermissionsAction" id="EditPermissionsAction"/>
    <bean class="no.kantega.publishing.admin.security.action.RemovePermissionAction" id="RemovePermissionAction"/>
    <bean class="no.kantega.publishing.admin.security.action.SavePermissionsAction" id="SavePermissionsAction">
        <property name="view" value="/WEB-INF/jsp/admin/generic/windowclose.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.security.action.SelectUsersAction" id="SelectUsersAction">
        <property name="view" value="/WEB-INF/jsp/admin/security/selectuser.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.security.action.SelectRolesAction" id="SelectRolesAction">
        <property name="view" value="/WEB-INF/jsp/admin/security/selectrole.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.security.action.ViewAllPermissionsAction" id="ViewAllPermissionsAction">
        <property name="view" value="/WEB-INF/jsp/admin/security/viewallpermissions.jsp"/>
    </bean>

    <!-- My page-->
    <bean class="no.kantega.publishing.admin.mypage.action.ViewMyPageAction" id="ViewMyPageAction">
        <property name="view" value="/WEB-INF/jsp/admin/mypage/mypage.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.mypage.action.RestoreDeletedItemAction" id="RestoreDeletedItemAction"/>

    <!-- Navigate content -->
    <bean id="contentNavigateAction" class="no.kantega.publishing.admin.content.action.NavigateController">
        <property name="view" value="/WEB-INF/jsp/admin/publish/navigate.jsp"/>
    </bean>
    <bean id="contentNavigatorAjaxAction" class="no.kantega.publishing.admin.content.ajax.NavigatorAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/navigator.jsp"/>
    </bean>
    <bean id="breadCrumbsAction" class="no.kantega.publishing.admin.content.ajax.BreadCrumbsAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/breadcrumbs.jsp"/>
    </bean>

    <bean id="contentStateHandler" class="no.kantega.publishing.admin.dwr.ContentStateHandler"/>

    <!-- Organize subpages -->
    <bean id="OrganizeSubPagesAction" class="no.kantega.publishing.admin.content.action.OrganizeSubPagesAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/organizesubpages.jsp"/>
    </bean>
    <bean id="ListSubPagesAction" class="no.kantega.publishing.admin.content.ajax.ListSubPagesAction">
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
        <property name="view" value="/WEB-INF/jsp/admin/publish/listsubpages.jsp"/>
    </bean>
    <bean id="ReorderSubPagesAction" class="no.kantega.publishing.admin.content.ajax.ReorderSubpagesAction"/>

    <!-- Delete -->
    <bean class="no.kantega.publishing.admin.content.action.ConfirmCopyPasteContentAction" id="ConfirmCopyPasteContentAction">
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.CopyPasteContentAction" id="CopyPasteContentAction"/>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="DeleteAssociationAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.DeleteAssociationAction</value>
        </property>
        <property name="servletName">
            <value>DeleteAssociationAction</value>
        </property>
    </bean>

    <!-- Edit content -->
    <bean class="no.kantega.publishing.admin.content.action.AddContentAction" id="AddContentAction">
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
        <property name="view" value="/WEB-INF/jsp/admin/publish/selecttemplate.jsp"/>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="ApproveOrRejectAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.ApproveOrRejectAction</value>
        </property>
        <property name="servletName">
            <value>ApproveOrRejectAction</value>
        </property>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.CancelEditAction" id="CancelEditAction"/>
    <bean class="no.kantega.publishing.admin.content.action.CleanupHTMLAction" id="CleanupHTMLAction"/>
    <bean class="no.kantega.publishing.admin.content.action.DeleteAttachmentAction" id="DeleteAttachmentAction"/>
    <bean class="no.kantega.publishing.admin.content.action.EditContentAction" id="EditContentAction"/>
    <bean class="no.kantega.publishing.admin.content.action.SelectTemplateAction" id="SelectTemplateAction"/>
    <bean class="no.kantega.publishing.admin.content.action.SaveAttachmentsAction" id="SaveAttachmentsAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/editattachments.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.SaveContentAction" id="SaveContentAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/editcontent.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.SaveMetadataAction" id="SaveMetadataAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/editmetadata.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.SaveNotesAction" id="SaveNotesAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/editnotes.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.SaveVersionAction" id="SaveVersionAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/editversions.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.UseVersionAction" id="UseVersionAction"/>
    <bean class="no.kantega.publishing.admin.content.action.DeleteVersionAction" id="DeleteVersionAction"/>
    <bean class="no.kantega.publishing.admin.content.action.EndAdminModeAction" id="EndAdminModeAction"/>

    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="SaveHearingAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.SaveHearingAction</value>
        </property>
        <property name="servletName">
            <value>SaveHearingAction</value>
        </property>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="SaveHearingCommentAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.SaveHearingCommentAction</value>
        </property>
        <property name="servletName">
            <value>SaveHearingAction</value>
        </property>
    </bean>

    <!-- Preview  -->
    <bean class="no.kantega.publishing.admin.content.action.SaveEmptyAction" id="ViewContentPreviewAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/showpreview.jsp"/>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="ViewContentPreviewFrameAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.ViewContentPreviewFrameAction</value>
        </property>
        <property name="servletName">
            <value>PreviewContentAction</value>
        </property>
    </bean>

    <!-- Edit content - popups -->
    <bean class="no.kantega.publishing.admin.content.action.AddAttachmentAction" id="AddAttachmentAction">
        <property name="formView" value="/WEB-INF/jsp/admin/publish/popups/attachment-edit.jsp"/>
        <property name="confirmView" value="/WEB-INF/jsp/admin/publish/popups/attachment-confirm.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.viewcontroller.SimpleAdminController" id="ReplaceTextAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/replacetext.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.InsertLinkAction" id="InsertLinkAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/insert-link.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.InsertTableAction" id="InsertTableAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/insert-table.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.viewcontroller.SimpleAdminController" id="InsertCharacterAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/insert-char.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.viewcontroller.SimpleAdminController" id="EditListOptionAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/listoption-edit.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.viewcontroller.SimpleAdminController" id="SelectMediaFolderAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/select-mediafolder.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.SelectContentAction" id="SelectContentAction">
        <property name="view" value="/WEB-INF/jsp/admin/publish/popups/select-content.jsp"/>
    </bean>

    <!-- Navigate multimedia -->
    <bean id="multimediaNavigateAction" class="no.kantega.publishing.admin.viewcontroller.SimpleAdminController">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/navigate.jsp"/>
    </bean>
    <bean id="multimediaNavigatorAjaxAction" class="no.kantega.publishing.admin.multimedia.ajax.NavigatorAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/navigator.jsp"/>
    </bean>
    <bean id="viewFolderAjaxAction" class="no.kantega.publishing.admin.multimedia.ajax.ViewFolderAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/viewfolder.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.multimedia.action.ConfirmCopyPasteMultimediaAction" id="ConfirmCopyPasteMultimediaAction"/>
    <bean class="no.kantega.publishing.admin.multimedia.action.CopyPasteMultimediaAction" id="CopyPasteMultimediaAction"/>

    <!-- Multimedia -->
    <bean class="no.kantega.publishing.admin.multimedia.ajax.CreateMediaFolderAction" id="CreateMediaFolderAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/ajax/media.jsp"/>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="DeleteMultimediaAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.multimedia.action.DeleteMultimediaAction</value>
        </property>
        <property name="servletName">
            <value>DeleteMultimediaAction</value>
        </property>
    </bean>
    <bean class="no.kantega.publishing.admin.multimedia.action.ImageManipulationAction" id="ImageManipulationAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/imagemanipulation.jsp"/>
    </bean>

    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="ImageMapAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.multimedia.action.ImageMapAction</value>
        </property>
        <property name="servletName">
            <value>ImageMapAction</value>
        </property>
    </bean>
    <bean class="no.kantega.publishing.admin.multimedia.action.EditMultimediaAction" id="EditMultimediaAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/editmultimedia.jsp"/>
        <property name="selectMediaView" value="/WEB-INF/jsp/admin/multimedia/selectmultimedia.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.multimedia.ajax.UploadMultimediaAction" id="UploadMultimediaAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/ajax/fileupload.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.multimedia.ajax.UpdateMediaNameAction" id="UpdateMediaNameAction">
        <property name="view" value="/WEB-INF/jsp/admin/multimedia/ajax/media.jsp"/>
    </bean>
    <!-- Topic maps -->
    <bean class="no.kantega.publishing.admin.topicmaps.ajax.HandleContentTopicsAction" id="HandleContentTopicsAction">
        <property name="view" value="/WEB-INF/jsp/admin/topicmaps/contenttopics.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.topicmaps.action.SelectTopicsAction" id="SelectTopicsAction">
        <property name="view" value="/WEB-INF/jsp/admin/topicmaps/select-topic.jsp"/>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="UpdateTopicAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.topicmaps.action.UpdateTopicAction</value>
        </property>
        <property name="servletName">
            <value>UpdateTopicAction</value>
        </property>
    </bean>
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="DeleteTopicAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.topicmaps.action.DeleteTopicAction</value>
        </property>
        <property name="servletName">
            <value>DeleteTopicAction</value>
        </property>
    </bean>



    <!--
    Gjøres om i forbindelse med emnekart
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="DeleteContentTopicAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.DeleteContentTopicAction</value>
        </property>
        <property name="servletName">
            <value>DeleteContentTopicAction</value>
        </property>
    </bean>
    -->
    <bean class="org.springframework.web.servlet.mvc.ServletWrappingController" id="DeleteRoleTopicAction">
        <property name="servletClass">
            <value>no.kantega.publishing.admin.content.action.DeleteRoleTopicAction</value>
        </property>
        <property name="servletName">
            <value>DeleteRoleTopicAction</value>
        </property>
    </bean>


    <!-- Mini Aksess -->
    <bean class="no.kantega.publishing.admin.content.action.SimpleDeleteContentAction" id="SimpleDeleteContentAction"/>
    <bean class="no.kantega.publishing.admin.content.action.SimpleEditContentAction" id="SimpleEditContentAction"/>
    <bean class="no.kantega.publishing.admin.content.action.SimpleEditSaveContentAction" id="SimpleEditSaveContentAction"/>
    <bean class="no.kantega.publishing.admin.content.action.SimpleEditCancelAction" id="SimpleEditCancelAction"/>

    <!-- Administrator controllers -->
    <bean class="no.kantega.publishing.admin.administration.action.ViewSystemInformationAction" id="ViewSystemInformationAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/systeminformation.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.ListContentLocksAction" id="listContentLocksAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/listcontentlocks.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.ListAliasesAction" id="listAliasesAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/listaliases.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.content.action.RemoveContentLockAction" id="removeContentLockAction"/>
    <bean class="no.kantega.publishing.admin.administration.action.SearchEventLogAction" id="searchEventLogAction">
        <property name="formView" value="/WEB-INF/jsp/admin/administration/eventlog-form.jsp"/>
        <property name="resultsView" value="/WEB-INF/jsp/admin/administration/eventlog-result.jsp"/>    
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.ViewMailSubscribersAction" id="viewMailSubscribersAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/listmailsubscribers.jsp"/>
    </bean>
    <bean id="rebuildIndexAction" class="no.kantega.publishing.admin.administration.action.RebuildIndexAction">
        <property name="indexManager">
            <ref bean="indexManager"/>
        </property>
        <property name="formView" value="/WEB-INF/jsp/admin/administration/search/rebuild-form.jsp"/>
        <property name="statusView" value="/WEB-INF/jsp/admin/administration/search/rebuild-status.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.ViewSearchLogAction" id="viewSearchLogAction">
        <property name="siteCache" ref="aksessSiteCache"/>
        <property name="view" value="/WEB-INF/jsp/admin/administration/search/viewsearchlog.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.ListUserChangesAction" id="listUserChangesAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/userchanges.jsp"/>
        <property name="viewDocuments" value="/WEB-INF/jsp/admin/administration/userchanges-documents.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.ListContentExpirationAction" id="listContentExpirationAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/listcontentexpiration.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.topicmaps.action.DeleteTopicMapAction" id="deleteTopicMapAction"/>
    <bean class="no.kantega.publishing.admin.topicmaps.action.EditTopicMapAction" id="editTopicMapAction">
        <property name="view" value="/WEB-INF/jsp/admin/topicmaps/admin/edittopicmap.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.topicmaps.action.ListTopicMapsAction" id="listTopicMapsAction">
        <property name="view" value="/WEB-INF/jsp/admin/topicmaps/admin/listtopicmaps.jsp"/>
    </bean>
    <!-- Site config -->
    <bean class="no.kantega.publishing.admin.administration.action.ListSitesAction" id="listSitesAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/listsites.jsp"/>
        <property name="siteCache" ref="aksessSiteCache"/>
    </bean>
    <bean class="no.kantega.publishing.admin.administration.action.EditDomainNamesAction" id="EditDomainNamesAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/editdomainnames.jsp"/>
    </bean>
    <!-- Template config -->
    <bean class="no.kantega.publishing.admin.templateconfiguration.action.ListAssociationCategoriesAction" id="listAssociationCategoriesAction">
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
        <property name="view" value="/WEB-INF/jsp/admin/administration/templates/listassociationcategories.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.templateconfiguration.action.ListContentTemplatesAction" id="listContentTemplatesAction">
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
        <property name="view" value="/WEB-INF/jsp/admin/administration/templates/listcontenttemplates.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.templateconfiguration.action.ListDisplayTemplatesAction" id="listDisplayTemplatesAction">
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
        <property name="view" value="/WEB-INF/jsp/admin/administration/templates/listdisplaytemplates.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.templateconfiguration.action.ListDisplayTemplateUsagesAction" id="listDisplayTemplateUsagesAction">
        <property name="view" value="/WEB-INF/jsp/admin/administration/templates/listdisplaytemplateusages.jsp"/>
    </bean>
    <bean class="no.kantega.publishing.admin.templateconfiguration.action.ReloadTemplateConfigurationAction" id="reloadTemplateConfigurationAction">
        <property name="templateConfigurationFactory" ref="aksessTemplateConfigurationFactory"/>
        <property name="templateConfigurationValidator" ref="aksessTemplateConfigurationValidator"/>
        <property name="templateConfigurationCache" ref="aksessTemplateConfigurationCache"/>
        <property name="templateValidator" ref="aksessTemplateValidator"/>
        <property name="view" value="/WEB-INF/jsp/admin/administration/templates/templateconfiguration.jsp"/>
    </bean>

    <!-- Various -->
    <bean class="no.kantega.publishing.admin.log.action.LogJSErrorAction" id="LogJSErrorAction"/>
    <bean class="no.kantega.publishing.admin.ajax.SearchContentAsXMLAction" id="SearchContentAsXMLAction">
        <property name="siteCache" ref="aksessSiteCache"/>
    </bean>
    <bean class="no.kantega.publishing.admin.ajax.SearchMultimediaAsXMLAction" id="SearchMultimediaAsXMLAction"/>
    <bean class="no.kantega.publishing.admin.ajax.SearchOrgUnitsAsXMLAction" id="SearchOrgUnitsAsXMLAction"/>
    <bean class="no.kantega.publishing.admin.ajax.SearchUsersAsXMLAction" id="SearchUsersAsXMLAction"/>

    <bean class="no.kantega.publishing.admin.attributes.ajax.AddListOptionAction" id="AddListOptionAction"/>
    <bean class="no.kantega.publishing.admin.attributes.ajax.RemoveListOptionAction" id="RemoveListOptionAction"/>

    <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="viewClass"><value>org.springframework.web.servlet.view.JstlView</value></property>
    </bean>


    <bean id="groovyConsole" class="no.kantega.publishing.admin.groovyconsole.GroovyConsole"/>

    <bean class="no.kantega.publishing.spring.PropertyReplacer"/>
</beans>
